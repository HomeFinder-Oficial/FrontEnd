<p-toast></p-toast>

<div class="flex justify-center p-6">
  <div
    (click)="onCardClick()"
    class="relative w-96 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition duration-300 bg-white cursor-pointer"
  >
    <!-- Image and tags -->
    <div class="relative">
      <img [src]="property.image" alt="Property image" class="w-full h-56 object-cover" />

      <!-- POPULAR label -->
      @if (property.isPopular) {
      <span
        class="absolute top-3 left-3 bg-indigo-600 text-white text-xs font-semibold px-3 py-1 rounded-full shadow"
      >
        POPULAR
      </span>
      }

      <!-- Favorite button -->
      <button
        (click)="toggleFavorite(); $event.stopPropagation()"
        class="absolute top-3 right-3 bg-white/90 backdrop-blur-sm rounded-full p-2 shadow-lg border border-purple-300 hover:border-purple-500 hover:bg-purple-50 hover:scale-110 transition-all duration-300"
      >
        <i
          class="pi"
          [class.pi-heart-fill]="property.isFavorite"
          [class.text-red-500]="property.isFavorite"
          [class.pi-heart]="!property.isFavorite"
        ></i>
      </button>
    </div>

    <!-- Main content -->
    <div class="p-5">
      <p class="text-indigo-600 font-extrabold text-lg mb-1">
        {{ property.value }}
      </p>
      <p class="text-gray-900 font-bold text-xl">{{ property.name }}</p>
      <p class="text-gray-500 text-sm mb-4">{{ property.address }}</p>

      <p-divider></p-divider>

      <!-- Details with icons -->
      <div class="mt-3 grid grid-cols-3 text-gray-600 text-sm">
        <div class="flex items-center gap-1">
          <i class="pi pi-home text-indigo-600"></i>
          <span>{{ property.rooms }} rooms</span>
        </div>
        <div class="flex items-center gap-1">
          <i class="pi pi-box text-indigo-600"></i>
          <span>{{ property.baths }} baths</span>
        </div>
        <div class="flex items-center gap-1">
          <i class="pi pi-arrows-h text-indigo-600"></i>
          <span>{{ property.area }} mÂ²</span>
        </div>
      </div>
    </div>
  </div>
</div>
